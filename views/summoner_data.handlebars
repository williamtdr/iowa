{{#if error}}
	<span style="color: #c0392b">{{error.text}}</span>
{{else}}
	<h3 id="champion-data-header">Top Champions</h3>

	<div class="row">
		{{#each champions}}
			<div class="champion col-md-6" style="background-image: url('{{this.splashURL}}')" data-id="{{this.id}}">
				<div class="champion-info">
					<div class="indicator indicator-1" style="color: #e74c3c">
						<i class="fa fa-bolt"></i>
					</div>

					<div class="indicator indicator-2" style="color: #2ecc71">
						<i class="fa fa-shield"></i>
					</div>

					<div class="indicator indicator-3" style="color: #3498db">
						<i class="fa fa-magic"></i>
					</div>

					<div class="indicator indicator-4" style="color: #9b59b6">
						<i class="fa fa-balance-scale"></i>
					</div>
				</div>
				<div class="champion-footer">
					<img src="{{this.imageURL}}" class="champion-icon">
					<span class="champion-name">{{this.name}}</span>
					<span class="champion-stats"><span style="color: #3498db">W {{this.outcome.won}}</span> <span style="color: #7f8c8d">Â·</span> <span style="color: #e74c3c">L {{this.outcome.lost}}</span><br>
						{{this.kills.kills}}<span style="color: #bdc3c7">/</span>{{this.kills.deaths}}<span style="color: #bdc3c7">/</span>{{this.kills.assists}}</span>
					<div class="champion-title">{{this.title}}</div>
				</div>
			</div>
			<div class="expanded-champion-stats" data-id="{{this.id}}">
				<div class="champion-info-bar">
					<div class="champion-tab champion-tab-selected tab-spotlight">SPOTLIGHT</div>
					<div class="champion-tab tab-info">INFO</div>
					<div class="champion-tab tab-your-stats"><span class="hidden-on-mobile">YOUR </span>STATS</div>
					{{#each this.tags}}
						<div class="champion-tag">{{this}}</div>
					{{/each}}
				</div>
				<div class="champion-sidebar">
					<div class="sidebar sidebar-main">
						<div class="champion-sidebar-header">
							COMBAT
						</div>
						{{roundOne this.kills.averageKills}} <span class="champion-sidebar-suffix" style="color: #3498db">kills</span><br>
						{{roundOne this.kills.averageAssists}} <span class="champion-sidebar-suffix" style="color: #9b59b6">assists</span><br>
						{{roundOne this.kills.averageDeaths}} <span class="champion-sidebar-suffix" style="color: #e74c3c">deaths</span>
						<div class="champion-sidebar-header">
							WINS
						</div>
						{{this.outcome.won}} <span class="champion-sidebar-suffix" style="color: #2ecc71">games won</span><br>
						{{this.outcome.lost}} <span class="champion-sidebar-suffix" style="color: #e74c3c">games lost</span><br>
						<div class="champion-sidebar-header">
							OTHER
						</div>
						{{numberFormatter this.gold.average}} <span class="champion-sidebar-suffix" style="color: #f1c40f">gold</span><br>
						{{numberFormatter this.creepScore.average}} <span class="champion-sidebar-suffix" style="color: #2ecc71">minion kills</span><br>
						{{numberFormatter this.damage.averageDealt}} <span class="champion-sidebar-suffix" style="color: #3498db">damage dealt</span><br>
						{{numberFormatter this.damage.averageTaken}} <span class="champion-sidebar-suffix" style="color: #e74c3c">damage taken</span><br>
						{{numberFormatter this.turrets.average}} <span class="champion-sidebar-suffix" style="color: #1abc9c">turrets destroyed</span><br>
						<div class="champion-sidebar-header">
							LINKS
						</div>
						<ul>
							<li><a target="_blank" href="http://gameinfo.na.leagueoflegends.com/en/game-info/champions/{{{noSpacesLowercase this.name}}}/">Official Info Page</a></li>
							<li><a target="_blank" href="http://leagueoflegends.wikia.com/wiki/{{{spaceToUnderscore this.name}}}">Wikia</a></li>
						</ul>
					</div>
					<div class="sidebar sidebar-champion">
						<div class="champion-sidebar-header">
							STATS
						</div>
						{{roundOne this.stats.armor}} <span class="per-level">+ {{roundOne this.stats.armorperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #3498db">armor</span><br>
						{{roundOne this.stats.attackdamage}} <span class="per-level">+ {{roundOne this.stats.attackdamageperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #e74c3c">damage</span><br>
						<span class="per-level">{{roundOne this.stats.attackspeedperlevel}}%</span> <span class="champion-sidebar-suffix" style="color: #e74c3c">attack speed</span><br>
						<br>
						{{roundOne this.stats.mp}} <span class="per-level">+ {{roundOne this.stats.mpperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #3498db">mana</span><br>
						{{roundOne this.stats.mpregen}} <span class="per-level">+ {{roundOne this.stats.mpregenperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #3498db">mana regen</span><br>
						<br>
						{{roundOne this.stats.hp}} <span class="per-level">+ {{roundOne this.stats.hpperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #2ecc71">health</span><br>
						{{roundOne this.stats.hpregen}} <span class="per-level">+ {{roundOne this.stats.hpregenperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #2ecc71">health regen</span><br>
						<br>
						{{roundOne this.stats.crit}} <span class="per-level">+ {{roundOne this.stats.critperlevel}}</span> <span class="champion-sidebar-suffix" style="color: #e67e22">crit. %</span><br>
						{{roundOne this.stats.attackrange}} <span class="champion-sidebar-suffix" style="color: #f1c40f">attack range</span><br>
						{{roundOne this.stats.movespeed}} <span class="champion-sidebar-suffix" style="color: #e67e22">movespeed</span><br>
					</div>
				</div>
				<div class="champion-tabbed-content" data-id="{{this.id}}">
					<div class="tab-spotlight">
						<div class="embed-responsive embed-responsive-16by9"></div>
					</div>
					<div class="tab-info tab-padded"></div>
					<div class="tab-your-stats tab-padded">
						<div class="champion-sidebar-header">
							COMBAT
						</div>
						{{roundOne this.kills.kills}} <span class="champion-suffix" style="color: #3498db">kills</span> - {{roundOne this.kills.averageKills}} <span class="champion-suffix" style="color: #3498db">on average</span><br>
						{{roundOne this.kills.assists}} <span class="champion-suffix" style="color: #9b59b6">assists</span> - {{roundOne this.kills.averageAssists}} <span class="champion-suffix" style="color: #9b59b6">on average</span><br>
						{{roundOne this.kills.deaths}} <span class="champion-suffix" style="color: #e74c3c">deaths</span> - {{roundOne this.kills.averageDeaths}}  <span class="champion-suffix" style="color: #e74c3c">on average</span><br>
						<div class="champion-sidebar-header">
							WINS
						</div>
						{{this.outcome.won}} <span class="champion-suffix" style="color: #2ecc71">games won</span><br>
						{{this.outcome.lost}} <span class="champion-suffix" style="color: #e74c3c">games lost</span><br>
						<div class="champion-sidebar-header">
							OTHER
						</div>
						{{numberFormatter this.gold.total}} <span class="champion-suffix" style="color: #f1c40f">gold</span> - {{numberFormatter this.gold.average}} <span class="champion-suffix" style="color: #f1c40f">on average</span><br>
						{{numberFormatter this.creepScore.total}} <span class="champion-suffix" style="color: #2ecc71">minions killed</span> - {{numberFormatter this.creepScore.average}} <span class="champion-suffix" style="color: #2ecc71">on average</span><br>
						{{numberFormatter this.damage.dealt}} <span class="champion-suffix" style="color: #3498db">damage dealt</span> - {{numberFormatter this.damage.averageDealt}} <span class="champion-suffix" style="color: #3498db">on average</span><br>
						{{numberFormatter this.damage.taken}} <span class="champion-suffix" style="color: #e74c3c">damage taken</span> - {{numberFormatter this.damage.averageTaken}} <span class="champion-suffix" style="color: #e74c3c">on average</span><br>
						{{numberFormatter this.turrets.total}} <span class="champion-suffix" style="color: #1abc9c">turrets destroyed</span> - {{numberFormatter this.turrets.average}} <span class="champion-suffix" style="color: #1abc9c">on average</span><br>
						<div class="champion-sidebar-header">
							ACHIEVEMENTS
						</div>
						<span style="color: #1abc9c">Double kills:</span> {{this.accomplishments.totalDoubleKills}}<br>
						<span style="color: #1abc9c">Triple kills:</span> {{this.accomplishments.totalTripleKills}}<br>
						<span style="color: #1abc9c">Quadra kills:</span> {{this.accomplishments.totalQuadraKills}}<br>
						<span style="color: #1abc9c">Pentakills:</span> {{this.accomplishments.totalPentaKills}}<br>
						<span style="color: #1abc9c">Unreal Kills:</span> {{this.accomplishments.totalUnrealKills}}<br>
						<span style="color: #1abc9c">First blood taken:</span> {{this.accomplishments.totalFirstBlood}}<br>
						<div class="champion-sidebar-header">
							CHAMPION MASTERY
						</div>
						<span style="color: #1abc9c">Level:</span> {{this.mastery.championLevel}}<br>
						<span style="color: #1abc9c">Chest:</span> {{#if this.mastery.chestGranted}}Awarded!{{else}}Not yet earned{{/if}}<br>
						<span style="color: #1abc9c">Highest grade:</span> {{this.mastery.highestGrade}}<br>
						<span style="color: #1abc9c">Last played:</span> {{dateFormat this.mastery.lastPlayTime}}<br>
					</div>
				</div>
			</div>
		{{/each}}
	</div>

	<script>
		var aggregateStats = {{{aggregateStats}}},
			championInfo = {{{championInfo}}},
			baseCacheUrl = "{{{baseURL}}}";

		$(".champion-tab").click(function(ev) {
			if($(this).hasClass("champion-tab-selected"))
				return false;

			var old_tab = $(".champion-tab-selected").removeClass("champion-tab-selected").attr("class").split(' '),
					new_tab = $(this).attr("class").split(' '),
					id = $(this).parent().parent().find(".champion-tabbed-content").data("id");

			old_tab.splice(old_tab.indexOf("champion-tab"), 1);
			new_tab.splice(new_tab.indexOf("champion-tab"), 1);

			$(this).parent().parent().find(".champion-tabbed-content").find("." + old_tab[0]).hide();
			$(this).parent().parent().find(".champion-tabbed-content").find("." + new_tab[0]).show();
			$(this).addClass("champion-tab-selected");

			switch(new_tab[0]) {
				case "tab-spotlight":
					switchSidebar(id, "main");
					break;
				case "tab-info":
					switchSidebar(id, "champion");
					break;
				case "tab-your-stats":
					switchSidebar(id, "none");
			}
		});
	</script>
{{/if}}
